package me.zeroX150.cornos.features.module.impl.exploit;

import me.zeroX150.cornos.etc.event.EventHelper;
import me.zeroX150.cornos.etc.event.EventType;
import me.zeroX150.cornos.etc.event.arg.PacketEvent;
import me.zeroX150.cornos.features.module.Module;
import me.zeroX150.cornos.features.module.ModuleType;
import net.minecraft.network.packet.c2s.play.TeleportConfirmC2SPacket;

public class PortalGodMode extends Module {
    public PortalGodMode() {
        super("PortalGodMode", "yoooo", ModuleType.EXPLOIT);
        Module parent = this;
        EventHelper.BUS.registerEvent(EventType.ONPACKETSEND, event -> {
            if (!parent.isEnabled())
                return;
            PacketEvent pe = (PacketEvent) event;
            if (pe.packet instanceof TeleportConfirmC2SPacket)
                event.cancel();
        });
    }
}
