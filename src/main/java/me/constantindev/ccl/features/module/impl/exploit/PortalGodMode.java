package me.constantindev.ccl.features.module.impl.exploit;

import me.constantindev.ccl.etc.event.EventHelper;
import me.constantindev.ccl.etc.event.EventType;
import me.constantindev.ccl.etc.event.arg.PacketEvent;
import me.constantindev.ccl.features.module.Module;
import me.constantindev.ccl.features.module.ModuleType;
import net.minecraft.network.packet.c2s.play.TeleportConfirmC2SPacket;

public class PortalGodMode extends Module {
    public PortalGodMode() {
        super("PortalGodMode", "yoooo", ModuleType.EXPLOIT);
        Module parent = this;
        EventHelper.BUS.registerEvent(EventType.ONPACKETSEND, event -> {
            if (!parent.isEnabled()) return;
            PacketEvent pe = (PacketEvent) event;
            if (pe.packet instanceof TeleportConfirmC2SPacket) event.cancel();
        });
    }
}
